-- Timestamp: 2013-12-13 08:55:02.815
-- Source database is: pa165
-- Connection URL is: jdbc:derby://localhost:1527/pa165;user=pa165;password=pa16
5
-- appendLogs: false

-- ----------------------------------------------
-- DDL Statements for schemas
-- ----------------------------------------------

CREATE SCHEMA "PA165";

-- ----------------------------------------------
-- DDL Statements for tables
-- ----------------------------------------------

CREATE TABLE "PA165"."BUILDINGKIT" ("ID" BIGINT NOT NULL GENERATED BY DEFAULT AS
 IDENTITY (START WITH 1, INCREMENT BY 1), "DESCRIPTION" VARCHAR(255), "NAME" VAR
CHAR(255), "PRICE" NUMERIC(19,2), "YEARFROM" INTEGER NOT NULL, "THEMESET_ID" BIG
INT, "CATEGORY_ID" BIGINT);

CREATE TABLE "PA165"."THEMESET" ("ID" BIGINT NOT NULL GENERATED BY DEFAULT AS ID
ENTITY (START WITH 1, INCREMENT BY 1), "DESCRIPTION" VARCHAR(255), "NAME" VARCHA
R(255), "PRICE" NUMERIC(19,2), "CATEGORY_ID" BIGINT);

CREATE TABLE "PA165"."BUILDINGKIT_BRICK" ("BUILDINGKIT_ID" BIGINT NOT NULL, "BRI
CKS_ID" BIGINT NOT NULL);

CREATE TABLE "PA165"."CATEGORY" ("ID" BIGINT NOT NULL GENERATED BY DEFAULT AS ID
ENTITY (START WITH 1, INCREMENT BY 1), "DESCRIPTION" VARCHAR(255), "NAME" VARCHA
R(255));

CREATE TABLE "PA165"."BRICK" ("ID" BIGINT NOT NULL GENERATED BY DEFAULT AS IDENT
ITY (START WITH 1, INCREMENT BY 1), "COLOR" INTEGER, "DESCRIPTION" VARCHAR(255),
 "NAME" VARCHAR(255));

CREATE TABLE "PA165"."BUILDINGKIT_BRICKS" ("BUILDINGKIT_ID" BIGINT NOT NULL, "BR
ICKS" INTEGER, "BRICKS_KEY" BIGINT NOT NULL);

-- ----------------------------------------------
-- DDL Statements for keys
-- ----------------------------------------------

-- primary/unique
ALTER TABLE "PA165"."BUILDINGKIT" ADD CONSTRAINT "SQL131121141529970" PRIMARY KE
Y ("ID");

ALTER TABLE "PA165"."BUILDINGKIT_BRICKS" ADD CONSTRAINT "SQL131122181048560" PRI
MARY KEY ("BUILDINGKIT_ID", "BRICKS_KEY");

ALTER TABLE "PA165"."BRICK" ADD CONSTRAINT "SQL131121141529680" PRIMARY KEY ("ID
");

ALTER TABLE "PA165"."CATEGORY" ADD CONSTRAINT "SQL131121141530350" PRIMARY KEY (
"ID");

ALTER TABLE "PA165"."THEMESET" ADD CONSTRAINT "SQL131121141530500" PRIMARY KEY (
"ID");

-- foreign
ALTER TABLE "PA165"."BUILDINGKIT" ADD CONSTRAINT "FKEF14F62A56A3FF" FOREIGN KEY
("THEMESET_ID") REFERENCES "PA165"."THEMESET" ("ID") ON DELETE NO ACTION ON UPDA
TE NO ACTION;

ALTER TABLE "PA165"."BUILDINGKIT" ADD CONSTRAINT "FK_4ELI3JJQUKR0AT6OQQ5FT9SXX"
FOREIGN KEY ("CATEGORY_ID") REFERENCES "PA165"."CATEGORY" ("ID") ON DELETE NO AC
TION ON UPDATE NO ACTION;

ALTER TABLE "PA165"."BUILDINGKIT_BRICKS" ADD CONSTRAINT "FK_QRSMSOVM1U9U7B8ECHD3
LPLWO" FOREIGN KEY ("BRICKS_KEY") REFERENCES "PA165"."BRICK" ("ID") ON DELETE NO
 ACTION ON UPDATE NO ACTION;

ALTER TABLE "PA165"."BUILDINGKIT_BRICKS" ADD CONSTRAINT "FK_Y37CDJEUK8BMYIHPE4NG
DRVW" FOREIGN KEY ("BUILDINGKIT_ID") REFERENCES "PA165"."BUILDINGKIT" ("ID") ON
DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE "PA165"."BUILDINGKIT_BRICK" ADD CONSTRAINT "FK48909904F4234B35" FORE
IGN KEY ("BUILDINGKIT_ID") REFERENCES "PA165"."BUILDINGKIT" ("ID") ON DELETE NO
ACTION ON UPDATE NO ACTION;

ALTER TABLE "PA165"."BUILDINGKIT_BRICK" ADD CONSTRAINT "FK4890990413E10D84" FORE
IGN KEY ("BRICKS_ID") REFERENCES "PA165"."BRICK" ("ID") ON DELETE NO ACTION ON U
PDATE NO ACTION;

ALTER TABLE "PA165"."THEMESET" ADD CONSTRAINT "FK45F371F9EBA01FF" FOREIGN KEY ("
CATEGORY_ID") REFERENCES "PA165"."CATEGORY" ("ID") ON DELETE NO ACTION ON UPDATE
 NO ACTION;
